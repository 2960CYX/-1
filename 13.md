# 13. 首页现代博客化与筛选体系说明

## 背景

- 首页原有的“分类一行 + 标签一行”在视觉与交互上高度重合，缺乏现代博客常见的层级感；
- 文章卡片中分类与标签样式一致，无法突出主要导航 vs. 语义标签；
- 需要在保持原子化设计语言（`brand-badge`、`line-button`、`tag-pill` 等基元）的前提下，提供更轻量的探索体验。

## 改动概览

- `src/pages/index.vue`
  - 将分类与标签筛选整合为「精选主题筛选」模块：上方总结当前过滤语义 + 清空按钮，分类保持横向滚动，标签改为可搜索的抽屉面板；
  - 新增 `selectedCategoryLabel`、`selectedTagLabel`、`filterSummary`、`filteredTags` 等计算属性，并提供 `handleTagSelect / resetFilters / toggleTagPanel` 辅助方法；
  - 优化精选文章与列表卡片的元信息：分类以品牌色标签呈现，标签仅保留在卡片底部，避免重复；
  - 修正若干占位文案（预估阅读时长、摘要缺省文案等），保持文案通顺。

## 使用方式

- 进入首页后即可看到新的筛选卡片：
  - 左侧展示当前筛选摘要（如“设计系统 · #知识星图”），右侧提供“清空筛选”与“标签抽屉”按钮；
  - 分类维持一行可滚动的 `line-button`，再次点击当前分类即可取消；
  - 标签通过抽屉面板选择，支持输入关键字实时过滤；选择任意标签会自动关闭抽屉并刷新文章；
  - “清空筛选”会同时复位分类、标签并滚动回最新列表。
- 列表卡片顶部会展示分类 + 日期 + 阅读时长，底部仅保留标签胶囊，阅读路径更清晰；精选文章区也沿用同样的信息层级。

## 设计与实现要点

- 所有交互仍依托 `useArticleList` 的 `setFilters`，未引入全局状态；
- 标签抽屉采用过渡动画 + 可选搜索，避免一次性渲染几十个标签的视觉噪声；
- `filterSummary` 只在存在分类/标签时拼接，默认文案为“全部文章 · 即刻追踪最新洞察”；
- `resetFilters` 会同步清空关键字、折叠抽屉、重置页码，保证体验一致；
- 由于分类/标签名称都缓存于 `useBlog*` 组合式函数中，无需二次请求。

## 验收建议

1. `pnpm install`（如未安装依赖）后执行 `pnpm dev` 预览 `http://localhost:3333/`；
2. 切换不同分类、打开标签抽屉并搜索、选择标签后确认文章列表与摘要文案更新；
3. 鼠标或触屏双击当前分类/标签应能取消筛选；
4. “清空筛选”后，摘要文案恢复默认，精选文章与列表顺序回到最新；
5. 验证空列表态（例如选择一个无数据的分类）仍能展示提示文案与按钮。

## 后续可扩展

- 将筛选卡片抽离为 `FilterToolbar` 组件，以便 `/article` 等页面复用；
- 在标签抽屉内补充“热门/最新”排序或多选逻辑；
- 为 `useArticleList` 增加 URL 同步（query string），可直接分享带筛选条件的链接；
- 在文章卡片上追加“加入对话”以外的次级 CTA，如“收藏”或“复制链接”。
