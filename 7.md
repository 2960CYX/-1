# Arcanum 主题 – 前端开发文档

## 1. 版本概述
- **目标**：为 Vitesse 博客前台引入 “Arcanum” 风格，建立语义化设计令牌并重塑核心页面布局。
- **范围**：当前迭代仅涉及前端展示层，不修改 RuoYi 后端接口与数据结构。
- **状态**：页面示例使用静态占位数据展示视觉与交互方案，尚未接入真实 API。

## 2. 技术栈与依赖
- Vue 3 + Vite（Vitesse 模板）
- UnoCSS：preset-uno、preset-attributify、preset-icons、preset-typography、preset-web-fonts
- @vueuse/core：暗色模式切换
- Vite SSG：默认的静态化构建流程

## 3. 关键文件
- `uno.config.ts`：定义 Arcanum 主题的颜色、字体、阴影、快捷类与 Typography 扩展。
- `src/components/ArcanumLayout.vue`：全局布局（导航、暗色开关、Footer、页面容器）。
- `src/layouts/default.vue`：精简为 `<RouterView />`，所有页面走统一布局。
- `src/pages/index.vue`：首页英雄区、精选文章卡片、策展分区。
- `src/pages/about.vue`：关于页（价值主张、方法论、时间轴、CTA）。
- `src/App.vue`：站点级标题、描述、主题色。
- 自动生成：`src/auto-imports.d.ts`、`src/components.d.ts`、`src/typed-router.d.ts`。

## 4. UnoCSS 设计令牌

### 4.1 颜色（`theme.colors`）
| Token | 浅色模式 | 深色模式 | 用途 |
| --- | --- | --- | --- |
| `brand` / `brand-soft` | #2c4052 / #364f66 | 同浅色 | 品牌链接、主按钮 |
| `background.light` / `.dark` | #f6efe3 | #101823 | 页面背景 |
| `surface.light` / `.dark` | #fbf7ee | #182232 | 卡片背景 |
| `border.light` / `.dark` | #d8cebf | #2b3649 | 分隔线、轮廓 |
| `text.base.light` / `.dark` | #2f3238 | #dfe3ea | 主体文字 |
| `text.muted.light` / `.dark` | #5a5d64 | #a6adba | 次级文字 |
| `text.subtle.light` / `.dark` | #8c8f98 | #8493a5 | 辅助说明 |
| `accent.light` / `.dark` | #bcae8f | #c4b692 | 引用、高亮 |
| `contrast.light` / `.dark` | #fdfcf8 | #0d131c | 按钮文字对比 |

### 4.2 字体与排版
- `fontFamily.sans`：Inter + Noto Sans SC + 系统备选。
- `fontFamily.serif`：Playfair Display + Noto Serif SC + 常见衬线备选。
- `lineHeight.relaxed / snug`：分别用于正文、标题。
- `maxWidth.content`：72rem，扩展阅读宽度缓解桌面留白。

### 4.3 快捷类（`shortcuts`）
| Shortcut | 说明 |
| --- | --- |
| `page-root` | 页面背景、主字体、暗黑切换、统一选区高亮与抗锯齿 |
| `page-container` | 居中容器，带 72rem `max-w` 与响应式内边距 |
| `page-shell` | 主体容器，覆盖渐变侧栏填补留白并保持节奏 |
| `brand-badge` | 导航品牌徽标 |
| `brand-button` / `line-button` | 主、次按钮样式 |
| `nav-link` / `nav-link-active` | 顶部导航链接与激活态 |
| `icon-toggle` | 暗黑模式按钮 |
| `section-heading` / `section-title` / `section-subtitle` | 章节标题组合 |
| `card-title` / `card-meta` | 卡片标题与轻量 Meta |
| `tag-pill` | 标签胶囊 |
| `surface-card` | 卡片容器，含渐变顶光与双层边框 hover（需外层 `group`）|
| `text-link` / `hero-title` / `hero-lead` | 页面文本组件 |

Typography 预设通过 `cssExtend` 将以上令牌映射到 `.prose`，并在暗色模式自动继承。

## 5. 全局布局（`src/components/ArcanumLayout.vue`）
- 固定顶部导航：品牌徽章、首页/关于链接。
- 暗色切换：`useDark` + `useToggle`，采用 Uno Icon 动画。
- 主体容器：`<main class="page-shell">`，增加左右渐变立柱强化结构节奏。
- 页脚：版权信息、联系邮箱、关于链接。
`src/layouts/default.vue` 仅保留 `<RouterView />`，确保所有页面统一输出渠道。

## 6. 页面实现

### 6.1 首页（`src/pages/index.vue`）
- 英雄区：品牌徽标、标题、副文案、CTA。
- 精选文章：使用 `surface-card` 呈现 Featured 卡片。
- 最新洞见：`posts` 数组驱动的文章列表，沿用 `surface-card` + `group`。
- 策展清单：话题标签集合 + 订阅 CTA。
- `useHead` 定义页面标题与描述；当前数据为占位文案。

### 6.2 关于页（`src/pages/about.vue`）
- 价值主张：`principles` 数组渲染的要点列表。
- 写作方法：依托 Uno Typography 输出 Markdown 样式。
- 里程碑：时间轴列表，沿用 `surface-card` 动画。
- 联系 CTA：邮箱与 Newsletter 跳转。
- 同样使用 `useHead` 设置 SEO 元数据。

## 7. 构建与校验
- 开发：`pnpm dev`
- 构建：`pnpm build`
- 输出：Vite SSG 生成 `dist/` 静态资源，已验证构建通过。

## 8. 与后端 API 对接计划
1. **服务封装**：复用 `~/utils/request`，在 `~/services/blog.ts` 中定义 `fetchArticles`、`fetchCategories`、`fetchTags` 等方法。
2. **首页数据**：用真实接口替换 `featuredArticle`、`posts`，并恢复分类/标签筛选逻辑。
3. **详情路由**：确认 `/article/:id` 渲染流程，与卡片链接打通。
4. **状态处理**：为加载/错误/空态提供视觉反馈，可结合 Uno 原子类编写 Skeleton。
5. **SEO 同步**：结合接口字段刷新 `useHead` 中的标题、描述等信息。

## 9. 验收清单
- [x] UnoCSS 主题与快捷类落地，暗黑模式自适应。
- [x] 全局布局组件统一导航、主体、页脚。
- [x] 首页与关于页采用 Arcanum 视觉输出静态示例。
- [x] `pnpm build` 构建通过。
- [ ] **TODO**：接入真实数据源，恢复筛选功能，完善文章详情与 Newsletter 页面。

## 最近更新（2025-11-02）
- 调整 `maxWidth.content` 至 72rem，缓解桌面端留白。
- 新增 `page-shell` shortcut，提供渐变侧栏和更紧凑的页面视觉骨架。
- ArcanumLayout 主体容器改用 `page-shell`，文档同步说明。