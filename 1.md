好的，这是一份为您整理的操作日志和下一步计划，您可以把它保存为 `README.md`，作为您毕业设计的开发笔记。

-----

# 毕业设计：个人博客系统 (若依 + Vitesse) 开发日志

本文档记录了从数据库设计到若依 (RuoYi) 后台代码生成的完整操作步骤和关键配置，旨在解决毕业设计中表结构设计不合理导致开发困难的问题。

## 一、 核心目标

使用若依 (RuoYi-Vue) 作为后端管理系统，Vitesse (Vue 3) 作为博客前台，快速搭建一个功能完善的个人博客系统。

## 二、 数据库设计

为保证功能成熟，采用了一套经过验证的博客系统表结构，包含 5 个核心表。

### 1\. SQL 脚本

```sql
-- 1. 创建数据库
CREATE DATABASE IF NOT EXISTS blog_system 
DEFAULT CHARACTER SET utf8mb4 
DEFAULT COLLATE utf8mb4_general_ci;

-- 切换到新创建的数据库
USE blog_system;

-- ----------------------------
-- 2. 博客分类表
-- ----------------------------
DROP TABLE IF EXISTS `blog_category`;
CREATE TABLE `blog_category` (
  `category_id` bigint NOT NULL AUTO_INCREMENT COMMENT '分类ID',
  `name` varchar(128) NOT NULL COMMENT '分类名称',
  `description` varchar(512) DEFAULT NULL COMMENT '分类描述',
  `sort` int DEFAULT '0' COMMENT '排序字段',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`category_id`)
) ENGINE=InnoDB COMMENT='博客分类表';

-- ----------------------------
-- 3. 博客标签表
-- ----------------------------
DROP TABLE IF EXISTS `blog_tag`;
CREATE TABLE `blog_tag` (
  `tag_id` bigint NOT NULL AUTO_INCREMENT COMMENT '标签ID',
  `name` varchar(128) NOT NULL COMMENT '标签名称',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`tag_id`)
) ENGINE=InnoDB COMMENT='博客标签表';

-- ----------------------------
-- 4. 博客文章表
-- ----------------------------
DROP TABLE IF EXISTS `blog_article`;
CREATE TABLE `blog_article` (
  `article_id` bigint NOT NULL AUTO_INCREMENT COMMENT '文章ID',
  `user_id` bigint NOT NULL COMMENT '作者ID (关联 sys_user.user_id)',
  `category_id` bigint NOT NULL COMMENT '分类ID (关联 blog_category.category_id)',
  `title` varchar(255) NOT NULL COMMENT '文章标题',
  `summary` varchar(1024) DEFAULT NULL COMMENT '文章摘要',
  `content` longtext COMMENT '文章内容 (Markdown 或 HTML)',
  `cover_image_url` varchar(512) DEFAULT NULL COMMENT '封面图片地址',
  `status` char(1) NOT NULL DEFAULT '0' COMMENT '状态 (0=草稿, 1=已发布)',
  `allow_comment` char(1) NOT NULL DEFAULT '1' COMMENT '是否允许评论 (0=不允许, 1=允许)',
  `view_count` int DEFAULT '0' COMMENT '浏览量',
  `del_flag` char(1) DEFAULT '0' COMMENT '删除标志 (0=存在, 2=删除)',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`article_id`)
) ENGINE=InnoDB COMMENT='博客文章表';

-- ----------------------------
-- 5. 文章标签关联表 (多对多)
-- ----------------------------
DROP TABLE IF EXISTS `blog_article_tag`;
CREATE TABLE `blog_article_tag` (
  `article_id` bigint NOT NULL COMMENT '文章ID',
  `tag_id` bigint NOT NULL COMMENT '标签ID',
  PRIMARY KEY (`article_id`,`tag_id`)
) ENGINE=InnoDB COMMENT='文章标签关联表';

-- ----------------------------
-- 6. 评论表
-- ----------------------------
DROP TABLE IF EXISTS `blog_comment`;
CREATE TABLE `blog_comment` (
  `comment_id` bigint NOT NULL AUTO_INCREMENT COMMENT '评论ID',
  `article_id` bigint NOT NULL COMMENT '文章ID (关联 blog_article.article_id)',
  `user_id` bigint DEFAULT NULL COMMENT '评论用户ID (关联 sys_user.user_id, 可为空)',
  `nickname` varchar(64) NOT NULL COMMENT '评论人昵称 (游客或用户昵称)',
  `email` varchar(128) DEFAULT NULL COMMENT '评论人邮箱',
  `content` text NOT NULL COMMENT '评论内容',
  `parent_id` bigint DEFAULT '0' COMMENT '父评论ID (0=对文章的评论, >0=回复某条评论)',
  `status` char(1) NOT NULL DEFAULT '1' COMMENT '状态 (0=待审核, 1=已显示)',
  `del_flag` char(1) DEFAULT '0' COMMENT '删除标志 (0=存在, 2=删除)',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '评论时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`comment_id`)
) ENGINE=InnoDB COMMENT='博客评论表';
```

## 三、 若依代码生成

为了实现“多对多”关联（文章-标签）的最佳实践，我们采取了\*\*“生成4个，跳过1个”\*\*的策略。

  * **生成代码的表 (4个)：**
      * `blog_article` (文章)
      * `blog_category` (分类)
      * `blog_tag` (标签)
      * `blog_comment` (评论)
  * **不生成代码的表 (1个)：**
      * `blog_article_tag` (文章标签关联表)
      * **原因：** 这是一个中间表，它的逻辑将**手动**在 `blog_article` 的业务中实现。

### 1\. `blog_article` (文章表) 配置

这是最核心的配置。

  * **[字段信息]** 标签页：
      * `category_id`：显示类型设置为 **`下拉框`**。
      * `title`：查询方式设置为 **`LIKE`**。
      * `content`：显示类型设置为 **`富文本编辑器`**，**取消勾选** `列表` 和 `查询`。
      * `status`：显示类型设置为 **`下拉框`** (后续需绑定字典)。
      * `allow_comment`：显示类型设置为 **`下拉框`** (后续需绑定字典)。
  * **[生成信息]** 标签页：
      * *(勘误)* 原计划配置 [关联信息] 以便在列表页显示分类名称，后确认此功能在该版本生成器中不可用。此功能将**在生成代码后，通过手动修改 Mapper XML 文件实现**。

### 2\. `blog_category` (分类表) 配置

  * **[字段信息]** 标签页：
      * `name`：勾选 `插入`、`编辑`、`列表`、`查询`，查询方式设置为 **`LIKE`**，设为 `必填`。

### 3\. `blog_tag` (标签表) 配置

  * **[字段信息]** 标签页：
      * `name`：勾选 `插入`、`编辑`、`列表`、`查询`，查询方式设置为 **`LIKE`**，设为 `必填`。

### 4\. `blog_comment` (评论表) 配置

  * **[字段信息]** 标签页：
      * `content`：**取消勾选** `列表` (避免内容过长撑爆表格)。
      * `status`：显示类型设置为 **`下拉框`** (后续需绑定字典，如 `blog_comment_status`)。

## 四、 下一步计划 (当前状态)

目前，所有 4 个表的代码生成配置均已在若依后台完成并保存。

**您现在可以立即执行以下操作：**

1.  **生成代码：**
      * 返回 [系统工具] -\> [代码生成] 的主列表。
      * **勾选** `blog_article`、`blog_category`、`blog_tag`、`blog_comment` 这 4 个表。
      * 点击 **[生成代码]** 按钮，下载 `.zip` 压缩包。
2.  **导入代码：**
      * 解压 `.zip` 包。
      * 将其中的 `main` 目录下的 `java` 和 `resources` 文件，复制到您后端项目的 `ruoyi-blog` 模块中（如果您创建了新模块）。
3.  **手动修改 (关键)：**
      * **修改 Mapper (SQL)：** 为了在列表页显示“分类名称”和“文章标题”，需要手动修改 `.xml` 文件，添加 `LEFT JOIN` 查询。
      * **实现多对多：** 按照之前的讨论，手动修改 `BlogArticleController`、`IBlogArticleService`、`BlogArticleServiceImpl` 和 `BlogArticleMapper.xml`，添加处理“多选标签”的逻辑（即操作 `blog_article_tag` 表）。

-----

您需要我帮您准备好“下一步计划”中，**手动修改 Mapper (SQL)** 和**实现多对多标签**的具体代码吗？